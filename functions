installFlatpakUbuntu() {

	printf "Installation de Flatpak pour Ubuntu >= 18.10 (requis pour ce script)..." >> $TTY

	apt -y install flatpak
	apt -y install gnome-software-plugin-flatpak

	printf "OK\n" >> $TTY
}

flatpakSetup() {

	printf "Ajout du repository FlatHub..." >> $TTY

	flatpak remote-add --if-not-exists flathub https://flathub.org/repo/flathub.flatpakrepo

	printf "OK\n" >> $TTY
}


installSteam() {

	printf "Installation de Steam..." >> $TTY

	apt install -y steam-installer

	printf "OK\n" >> $TTY
}

installLutris() {

	printf "Installation de Lutris..." >> $TTY

	add-apt-repository -y ppa:lutris-team/lutris
	apt-get update
	apt-get -y install lutris

	printf "OK\n" >> $TTY
}

installWineForLutris() {

	# Installer Wine (faire tourner des programmes Windows).

	dpkg --add-architecture i386
	wget -nc https://dl.winehq.org/wine-builds/winehq.key
	apt-key add winehq.key
	rm winehq.key

	#--------------------- ONLY FOR UBUNTU 19.04 ---------------
	# If your have others version or distribution, go to https://github.com/lutris/lutris/wiki/Wine-Dependencies
	apt-add-repository -y 'deb https://dl.winehq.org/wine-builds/ubuntu/ disco main'
	apt update
	apt-get install -y --install-recommends winehq-stable wine-stable wine-stable-i386 wine-stable-amd64
	apt-get install -y libgnutls30:i386 libldap-2.4-2:i386 libgpg-error0:i386 libxml2:i386 libasound2-plugins:i386 libsdl2-2.0-0:i386 libfreetype6:i386 libdbus-1-3:i386 libsqlite3-0:i386
}

changeSwapSettings() {

	#change le déclenchement du fichier swap à 5% de la ram libre
	printf "Réglage du déclenchement du fichier d'échange (swap)..." >> $TTY

	echo vm.swappiness=5 | tee /etc/sysctl.d/99-swappiness.conf
	echo vm.vfs_cache_pressure=50 | tee -a /etc/sysctl.d/99-swappiness.conf

	sysctl -p /etc/sysctl.d/99-swappiness.conf

	swapoff -av
	swapon -av

	printf "OK\n" >> $TTY
}

changeGnomeSettings() {

	printf "Changement des paramètres de gnome shell..." >> $TTY
	#Notifications
	gsettings set org.gnome.desktop.notifications show-in-lock-screen false
	gsettings set org.gnome.desktop.notifications show-banners false
	#Recherche
	gsettings set org.gnome.desktop.search-providers disable-external true

	printf "OK\n" >> $TTY

}

installVirtualBox() {

	printf "Installation de VirtualBox..." >> $TTY

	apt install -y virtualbox virtualbox-dkms virtualbox-ext-pack virtualbox-guest-additions-iso virtualbox-qt

	printf "OK\n" >> $TTY
}

removeSnap() {

	printf "Désinstallation de snap..." >> $TTY

	apt -y purge snapd
}

installAppsDev() {

	printf "Installation du pack développeur (Eclipse, IntelliJIDEA, Git)..." >> $TTY

	apt install -y git
	flatpak install -y flathub com.jetbrains.IntelliJ-IDEA-Community

	printf "OK\n" >> $TTY
}

installStandardApps() {

	printf "Installation des applications standard..." >> $TTY

	apt -y install gnome-tweaks gparted baobab synaptic vlc libreoffice qbittorrent vim dconf-editor
	flatpak install -y flathub com.sublimetext.three com.discordapp.Discord

	printf "OK\n" >> $TTY

}

installMinecraft() {

	printf "Installation de Minecraft..." >> $TTY

	flatpak install -y flathub com.mojang.Minecraft

	printf "OK\n" >> $TTY
}

installOpenJre() {

	printf "Installation de la version libre de Java..." >> $TTY

	apt -y install default-jre

	printf "OK\n" >> $TTY
}

installLAMP() {

	printf "Installation de LAMP..." >> $TTY

	apt install -y apache2 php libapache2-mod-php mysql-server php-mysql phpmyadmin php-curl php-gd php-intl php-json php-mbstring php-xml php-zip

	systemctl disable apache2
	systemctl disable mysql

	printf "OK\n" >> $TTY
}

installEclipse() {

	printf "Installation d'Eclipse..." >> $TTY

	wget -q "http://eclipse.mirror.garr.it/mirrors/eclipse//technology/epp/downloads/release/2019-09/R/eclipse-jee-2019-09-R-linux-gtk-x86_64.tar.gz"
	tar xvf eclipse-jee-2019-09-R-linux-gtk-x86_64.tar.gz
	rm eclipse-jee-2019-09-R-linux-gtk-x86_64.tar.gz

	printf "OK\n" >> $TTY
}

updateAndClean() {

	printf "Mises à jour des programmes et suppressions des packages inutiles..." >> $TTY

	apt upgrade -y
	apt autoremove -y --purge
	apt clean

	printf "OK\n" >> $TTY
}
